/**
           * ui-leaflet-layers
           *
           * @version: 0.1.1
           * @author: Michael Salgado <elesdoar@gmail.com>
           * @date: Tue Sep 27 2016 11:41:57 GMT-0500 (COT)
           * @license: MIT
           */
(function (window, angular){
  'use strict';
  {"version":3,"sources":["leafletHelpers.es6","leafletLayerHelpers.es6","logger.es6"],"names":["angular","module","config","$provide","decorator","$delegate","leafletLayersLogger","$log","basicFunction","isLoaded","isDefined","layerType","is","layer","plugins","BingLayerPlugin","L","BingLayer","ChinaLayerPlugin","tileLayer","chinaProvider","GoogleLayerPlugin","Google","HeatLayerPlugin","heatLayer","LeafletProviderPlugin","TileLayer","Provider","MapboxGL","mapboxGL","UTFGridPlugin","UtfGrid","WebGLHeatMapLayerPlugin","WebGLHeatMap","WFSLayerPlugin","GeoJSON","WFS","YandexLayerPlugin","Yandex","esri","extend","AGSBaseLayerPlugin","basemapLayer","AGSClusteredLayerPlugin","clusteredFeatureLayer","AGSDynamicMapLayerPlugin","dynamicMapLayer","AGSFeatureLayerPlugin","featureLayer","AGSImageMapLayerPlugin","imageMapLayer","AGSHeatmapLayerPlugin","heatmapFeatureLayer","AGSTiledMapLayerPlugin","tiledMapLayer","window","lvector","AGSLayerPlugin","AGS","info","$rootScope","$q","leafletHelpers","isArray","isObject","errorHeader","utfGridCreateLayer","error","utfgrid","params","url","pluginOptions","on","e","$broadcast","layerTypes","ags","mustHaveUrl","createLayer","options","copy","onAdd","map","setMap","onRemove","agsBase","mustHaveLayer","agsClustered","warn","MarkerClusterPlugin","agsDynamic","agsFeature","load","loadedDefer","resolve","defer","off","agsHeatmap","agsImage","agsTiled","bing","key","china","type","google","heat","mustHaveData","data","setLatLngs","setOptions","here","provider","mapbox","mustHaveKey","version","apiKey","utfGrid","webGLHeatmap","setData","wfs","crs","eval","yandex","service","nemSimpleLogger","spawn"],"mappings":"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","file":"ui-leaflet-layers.js","sourcesContent":["angular.module('ui-leaflet')\n  .config($provide =>\n    $provide.decorator('leafletHelpers', function($delegate, leafletLayersLogger) {\n      const $log = leafletLayersLogger;\n\n      const basicFunction = layerType =>\n        ({\n          isLoaded() {\n            return angular.isDefined(layerType);\n          },\n          is(layer) {\n            if (this.isLoaded()) {\n              return layer instanceof layerType;\n            }\n            return false;\n          }\n        });\n\n      const plugins = {\n        // Please keep keys order by alphabetical sort.\n        BingLayerPlugin: basicFunction(L.BingLayer),\n        ChinaLayerPlugin: basicFunction(L.tileLayer.chinaProvider),\n        GoogleLayerPlugin: basicFunction(L.Google),\n        HeatLayerPlugin: basicFunction(L.heatLayer),\n        LeafletProviderPlugin: basicFunction(L.TileLayer.Provider),\n        MapboxGL: basicFunction(L.mapboxGL),\n        UTFGridPlugin: basicFunction(L.UtfGrid),\n        WebGLHeatMapLayerPlugin: basicFunction(L.TileLayer.WebGLHeatMap),\n        WFSLayerPlugin: basicFunction(L.GeoJSON.WFS),\n        YandexLayerPlugin: basicFunction(L.Yandex)\n      };\n\n      if(angular.isDefined(L.esri)) {\n        angular.extend(plugins, {\n          AGSBaseLayerPlugin: basicFunction(L.esri.basemapLayer),\n          AGSClusteredLayerPlugin: basicFunction(L.esri.clusteredFeatureLayer),\n          AGSDynamicMapLayerPlugin: basicFunction(L.esri.dynamicMapLayer),\n          AGSFeatureLayerPlugin: basicFunction(L.esri.featureLayer),\n          AGSImageMapLayerPlugin: basicFunction(L.esri.imageMapLayer),\n          AGSHeatmapLayerPlugin: basicFunction(L.esri.heatmapFeatureLayer),\n          AGSTiledMapLayerPlugin: basicFunction(L.esri.tiledMapLayer)\n        });\n      } else {\n        angular.extend(plugins, {\n          AGSBaseLayerPlugin: basicFunction(),\n          AGSClusteredLayerPlugin: basicFunction(),\n          AGSDynamicMapLayerPlugin: basicFunction(),\n          AGSFeatureLayerPlugin: basicFunction(),\n          AGSImageMapLayerPlugin: basicFunction(),\n          AGSHeatmapLayerPlugin: basicFunction(),\n          AGSTiledMapLayerPlugin: basicFunction()\n        });\n      }\n\n      if(angular.isDefined(window.lvector)) {\n        angular.extend(plugins, {\n          AGSLayerPlugin: basicFunction(window.lvector.AGS)\n        });\n      } else {\n        angular.extend(plugins, {\n          AGSLayerPlugin: basicFunction()\n        });\n      }\n\n      angular.extend($delegate, plugins);\n\n      $log.info('[ui-leaflet-layers] - Layers plugin is loaded');\n\n      return $delegate;\n    })\n  );\n","angular.module('ui-leaflet')\n  .config($provide =>\n    $provide.decorator('leafletLayerHelpers', function($delegate, $rootScope, $q, leafletHelpers, leafletLayersLogger) {\n      let $log = leafletLayersLogger;\n      let { isArray } = leafletHelpers;\n      let { isObject } = leafletHelpers;\n      let { isDefined } = leafletHelpers;\n      let { errorHeader } = leafletHelpers;\n      let utfGridCreateLayer = params => {\n        if (!leafletHelpers.UTFGridPlugin.isLoaded()) {\n          $log.error(errorHeader + ' The UTFGrid plugin is not loaded.');\n          return;\n        }\n\n        let utfgrid = new L.UtfGrid(params.url, params.pluginOptions);\n\n        utfgrid.on('mouseover', function(e) {\n          $rootScope.$broadcast('leafletDirectiveMap.utfgridMouseover', e);\n        });\n\n        utfgrid.on('mouseout', function(e) {\n          $rootScope.$broadcast('leafletDirectiveMap.utfgridMouseout', e);\n        });\n\n        utfgrid.on('click', function(e) {\n          $rootScope.$broadcast('leafletDirectiveMap.utfgridClick', e);\n        });\n\n        utfgrid.on('mousemove', function(e) {\n          $rootScope.$broadcast('leafletDirectiveMap.utfgridMousemove', e);\n        });\n\n        return utfgrid;\n      };\n\n      angular.extend($delegate.layerTypes, {\n        ags: {\n          mustHaveUrl: true,\n          createLayer: function(params) {\n            if (!leafletHelpers.AGSLayerPlugin.isLoaded()) {\n              return;\n            }\n\n            var options = angular.copy(params.options);\n            angular.extend(options, {\n              url: params.url\n            });\n            var layer = new lvector.AGS(options);\n            layer.onAdd = function(map) {\n              this.setMap(map);\n            };\n            layer.onRemove = function() {\n              this.setMap(null);\n            };\n            return layer;\n          }\n        },\n        agsBase: {\n          mustHaveLayer : true,\n          createLayer: function (params) {\n            if (!leafletHelpers.AGSBaseLayerPlugin.isLoaded()) {\n              return;\n            }\n            return L.esri.basemapLayer(params.layer, params.options);\n          }\n        },\n        agsClustered: {\n          mustHaveUrl: true,\n          createLayer: function(params) {\n            if (!leafletHelpers.AGSClusteredLayerPlugin.isLoaded()) {\n              $log.warn(errorHeader + ' The esri clustered layer plugin is not loaded.');\n              return;\n            }\n\n            if(!leafletHelpers.MarkerClusterPlugin.isLoaded()) {\n              $log.warn(errorHeader + ' The markercluster plugin is not loaded.');\n              return;\n            }\n            return L.esri.clusteredFeatureLayer(params.url, params.options);\n          }\n        },\n        agsDynamic: {\n          mustHaveUrl: true,\n          createLayer: function(params) {\n            if (!leafletHelpers.AGSDynamicMapLayerPlugin.isLoaded()) {\n              $log.warn(errorHeader + ' The esri plugin is not loaded.');\n              return;\n            }\n\n            params.options.url = params.url;\n\n            return L.esri.dynamicMapLayer(params.options);\n          }\n        },\n        agsFeature: {\n          mustHaveUrl: true,\n          createLayer: function(params) {\n            if (!leafletHelpers.AGSFeatureLayerPlugin.isLoaded()) {\n              $log.warn(errorHeader + ' The esri plugin is not loaded.');\n              return;\n            }\n\n            params.options.url = params.url;\n\n            var layer = L.esri.featureLayer(params.options);\n            var load = function() {\n              if(isDefined(params.options.loadedDefer)) {\n                params.options.loadedDefer.resolve();\n              }\n            };\n            layer.on('loading', function() {\n              params.options.loadedDefer = $q.defer();\n              layer.off('load', load);\n              layer.on('load', load);\n            });\n\n            return layer;\n          }\n        },\n        agsHeatmap: {\n          mustHaveUrl: true,\n          createLayer: function(params) {\n            if (!leafletHelpers.AGSHeatmapLayerPlugin.isLoaded()) {\n              $log.warn(errorHeader + ' The esri heatmap layer plugin is not loaded.');\n              return;\n            }\n\n            if(!leafletHelpers.HeatLayerPlugin.isLoaded()) {\n              $log.warn(errorHeader + ' The heatlayer plugin is not loaded.');\n              return;\n            }\n            return L.esri.heatmapFeatureLayer(params.url, params.options);\n          }\n        },\n        agsImage: {\n          mustHaveUrl: true,\n          createLayer: function(params) {\n            if (!leafletHelpers.AGSImageMapLayerPlugin.isLoaded()) {\n              $log.warn(errorHeader + ' The esri plugin is not loaded.');\n              return;\n            }\n            params.options.url = params.url;\n\n            return L.esri.imageMapLayer(params.options);\n          }\n        },\n        agsTiled: {\n          mustHaveUrl: true,\n          createLayer: function(params) {\n            if (!leafletHelpers.AGSTiledMapLayerPlugin.isLoaded()) {\n              $log.warn(errorHeader + ' The esri plugin is not loaded.');\n              return;\n            }\n\n            params.options.url = params.url;\n\n            return L.esri.tiledMapLayer(params.options);\n          }\n        },\n        bing: {\n          mustHaveUrl: false,\n          createLayer(params) {\n            if (!leafletHelpers.BingLayerPlugin.isLoaded()) {\n              $log.error(errorHeader + ' The Bing plugin is not loaded.');\n              return;\n            }\n            return new L.BingLayer(params.key, params.options);\n          }\n        },\n\n        china: {\n          mustHaveUrl:false,\n          createLayer(params) {\n            let type = params.type || '';\n            if (!leafletHelpers.ChinaLayerPlugin.isLoaded()) {\n              $log.error(errorHeader + ' The ChinaLayer plugin is not loaded.');\n              return;\n            }\n            return L.tileLayer.chinaProvider(type, params.options);\n          }\n        },\n\n        google: {\n          mustHaveUrl: false,\n          createLayer(params) {\n            let type = params.type || 'SATELLITE';\n            if (!leafletHelpers.GoogleLayerPlugin.isLoaded()) {\n              $log.error(errorHeader + ' The GoogleLayer plugin is not loaded.');\n              return;\n            }\n            return new L.Google(type, params.options);\n          }\n        },\n\n        heat: {\n          mustHaveUrl: false,\n          mustHaveData: true,\n          createLayer(params) {\n            if (!leafletHelpers.HeatLayerPlugin.isLoaded()) {\n              $log.error(errorHeader + ' The HeatMapLayer plugin is not loaded.');\n              return;\n            }\n            let layer = new L.heatLayer();\n            if (isArray(params.data)) {\n              layer.setLatLngs(params.data);\n            }\n            if (isObject(params.options)) {\n              layer.setOptions(params.options);\n            }\n            return layer;\n          }\n        },\n\n        here: {\n          mustHaveUrl: false,\n          createLayer: function(params) {\n            var provider = params.provider || 'HERE.terrainDay';\n            if (!leafletHelpers.LeafletProviderPlugin.isLoaded()) {\n              return;\n            }\n            return new L.TileLayer.Provider(provider, params.options);\n          }\n        },\n\n        mapbox: {\n          mustHaveKey: true,\n          createLayer(params) {\n            let version = 3;\n            if(isDefined(params.options.version) && params.options.version === 4) {\n              version = params.options.version;\n            }\n            let url = version === 3?\n              '//{s}.tiles.mapbox.com/v3/' + params.key + '/{z}/{x}/{y}.png':\n              '//api.tiles.mapbox.com/v4/' + params.key + '/{z}/{x}/{y}.png?access_token=' + params.apiKey;\n            return L.tileLayer(url, params.options);\n          }\n        },\n\n        mapboxGL: {\n          createLayer(params) {\n            if (!leafletHelpers.MapboxGL.isLoaded()) {\n              $log.error(errorHeader + ' The MapboxGL plugin is not loaded.');\n              return;\n            }\n            return new L.mapboxGL(params.options);\n          }\n        },\n\n        utfGrid: {\n          mustHaveUrl: true,\n          createLayer: utfGridCreateLayer\n        },\n\n        webGLHeatmap: {\n          mustHaveUrl: false,\n          mustHaveData: true,\n          createLayer(params) {\n            if (!leafletHelpers.WebGLHeatMapLayerPlugin.isLoaded()) {\n              $log.error(errorHeader + ' The WebGLHeatMapLayer plugin is not loaded.');\n              return;\n            }\n            let layer = new L.TileLayer.WebGLHeatMap(params.options);\n            if (isDefined(params.data)) {\n              layer.setData(params.data);\n            }\n            return layer;\n          }\n        },\n\n        wfs: {\n          mustHaveUrl: true,\n          mustHaveLayer: true,\n          createLayer(params) {\n            if (!leafletHelpers.WFSLayerPlugin.isLoaded()) {\n              $log.error(errorHeader + ' The WFSLayer plugin is not loaded.');\n              return;\n            }\n            let options = angular.copy(params.options);\n            if (options.crs && 'string' === typeof options.crs) {\n              options.crs = eval(options.crs);\n            }\n            return new L.GeoJSON.WFS(params.url, params.layer, options);\n          }\n        },\n\n        yandex: {\n          mustHaveUrl: false,\n          createLayer(params) {\n            let type = params.type || 'map';\n            if (!leafletHelpers.YandexLayerPlugin.isLoaded()) {\n              $log.error(errorHeader + ' The YandexLayer plugin is not loaded.');\n              return;\n            }\n            return new L.Yandex(type, params.options);\n          }\n        }\n      });\n\n      return $delegate;\n    })\n  );\n","angular.module('ui-leaflet')\n  .service('leafletLayersLogger', nemSimpleLogger => nemSimpleLogger.spawn());\n"],"sourceRoot":"/source/"}
})(window, angular);